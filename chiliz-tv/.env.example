# ==============================================================================
# ChilizTV Smart Contracts - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================

# Private key for deployment (without 0x prefix)
# ⚠️  SECURITY BEST PRACTICE:
# - Use a DEDICATED deployment hot wallet (separate from multisig)
# - Fund with just enough gas for deployment (~0.5-1 CHZ)
# - This key deploys contracts and sets initial owner to MULTISIG
# - After deployment, transfer ownership to your Gnosis Safe multisig
# - Never use this key for ongoing operations or large funds
PRIVATE_KEY=PRIVATE_KEY_PLACEHOLDER

# RPC URLs for different networks
RPC_URL_CHILIZ_MAINNET=https://rpc.ankr.com/chiliz
RPC_URL_CHILIZ_SPICY_TESTNET=https://spicy-rpc.chiliz.com
RPC_URL_LOCAL=http://localhost:8545

# Etherscan/Block Explorer API keys for contract verification
CHILIZ_EXPLORER_API_KEY=your_chiliz_explorer_api_key
ETHERSCAN_API_KEY=your_etherscan_api_key

# ==============================================================================
# CONTRACT CONFIGURATION - MatchHubBeaconFactory
# ==============================================================================

# Treasury Address (receives platform fees)
# Should be a multisig wallet on mainnet (e.g., Gnosis Safe)
# Example: 0x0000000000000000000000000000000000000000
TREASURY=0x0000000000000000000000000000000000000000

# Minimum Bet Amount in CHZ (18 decimals)
# Default: 5000000000000000000 = 5 CHZ
# Examples:
#   - 1000000000000000000 = 1 CHZ
#   - 5000000000000000000 = 5 CHZ  
#   - 10000000000000000000 = 10 CHZ
MIN_BET_CHZ=5000000000000000000

# ==============================================================================
# DEPLOYMENT ADDRESSES (Filled after deployment)
# ==============================================================================

# Core Contracts
SPORT_BEACON_REGISTRY=
MATCH_HUB_BEACON_FACTORY=
MATCH_HUB_LEGACY=

# Sport Implementations
FOOTBALL_BETTING_IMPL=
UFC_BETTING_IMPL=
MATCH_BETTING_ODDS_IMPL=

# Beacons
FOOTBALL_BEACON=
UFC_BEACON=

# Test Helpers (Testnet only)
MOCK_V3_AGGREGATOR=
MOCK_ERC20_TOKEN=

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================

# Current network (mainnet, testnet, local)
NETWORK=testnet

# Gas price settings (in gwei)
GAS_PRICE=30
MAX_FEE_PER_GAS=50
MAX_PRIORITY_FEE_PER_GAS=2

# ==============================================================================
# TESTING & DEVELOPMENT
# ==============================================================================

# Forking configuration (for local testing)
FORK_ENABLED=false
FORK_BLOCK_NUMBER=

# Initial CHZ price for MockV3Aggregator (8 decimals)
# Example: 10000000 = $0.10/CHZ
MOCK_CHZ_PRICE=10000000

# Initial token supply for testing (18 decimals)
MOCK_TOKEN_SUPPLY=1000000000000000000000000

# ==============================================================================
# MATCH CREATION DEFAULTS
# ==============================================================================

# Default platform fee in basis points
# Examples:
#   - 100 = 1%
#   - 200 = 2%
#   - 500 = 5%
DEFAULT_FEE_BPS=200

# Default betting cutoff time (seconds before match start)
# Example: 300 = 5 minutes before kickoff
DEFAULT_CUTOFF_BUFFER=300

# ==============================================================================
# SECURITY & ACCESS CONTROL
# ==============================================================================

# Admin addresses (comma-separated)
ADMIN_ADDRESSES=

# Settler addresses (authorized to settle matches)
SETTLER_ADDRESSES=

# Pauser addresses (can pause contracts in emergency)
PAUSER_ADDRESSES=

# ==============================================================================
# MONITORING & ALERTS
# ==============================================================================

# Enable/disable monitoring
MONITORING_ENABLED=false

# Webhook URL for alerts
ALERT_WEBHOOK_URL=

# Minimum balance alerts (in CHZ)
MIN_TREASURY_BALANCE=10000
MIN_DEPLOYER_BALANCE=100

# ==============================================================================
# SWAP ROUTER CONFIGURATION (Kayen DEX Integration)
# ==============================================================================

# Kayen MasterRouterV2 address (required for swap deployments)
# Testnet (Spicy): Check https://docs.kayen.org for testnet router
# Mainnet:         Check https://docs.kayen.org for mainnet router
KAYEN_ROUTER=

# Wrapped CHZ (WCHZ) token address
# Testnet (Spicy): Check Kayen/Chiliz docs for WCHZ on testnet
# Mainnet:         Check Kayen/Chiliz docs for WCHZ on mainnet
WCHZ_ADDRESS=

# USDC token address on Chiliz chain
# Testnet (Spicy): Check bridge/DEX docs for USDC on testnet
# Mainnet:         Check bridge/DEX docs for USDC on mainnet
USDC_ADDRESS=

# Platform fee for StreamSwapRouter (basis points)
# Default: 500 = 5%
# Examples: 100 = 1%, 200 = 2%, 500 = 5%, 1000 = 10%
PLATFORM_FEE_BPS=500

# ==============================================================================
# ODDS BETTING SYSTEM (New System)
# ==============================================================================

# Maximum liability per match (in CHZ)
# Example: 100000000000000000000000 = 100,000 CHZ
MAX_LIABILITY=100000000000000000000000

# Maximum single bet amount (in CHZ)
# Example: 10000000000000000000000 = 10,000 CHZ
MAX_BET_AMOUNT=10000000000000000000000

# Liquidity treasury for odds betting
ODDS_TREASURY=

# ==============================================================================
# CHAINLINK CONFIGURATION
# ==============================================================================

# Chainlink Functions (for automated odds fetching)
CHAINLINK_FUNCTIONS_ROUTER=
CHAINLINK_DON_ID=
CHAINLINK_SUBSCRIPTION_ID=

# External API keys for odds data
THE_ODDS_API_KEY=
SPORTMONKS_API_KEY=

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================

# Frontend URL (for CORS)
FRONTEND_URL=https://app.chiliz.tv

# API endpoint for backend
API_URL=https://api.chiliz.tv

# WebSocket URL for live updates
WS_URL=wss://ws.chiliz.tv

# ==============================================================================
# DATABASE & INDEXING
# ==============================================================================

# Database connection (for backend indexer)
DATABASE_URL=postgresql://user:password@localhost:5432/chiliz_tv

# Redis for caching
REDIS_URL=redis://localhost:6379

# ==============================================================================
# LOGGING & DEBUGGING
# ==============================================================================

# Log level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Enable verbose deployment logs
VERBOSE_LOGS=true

# Enable gas reporting
GAS_REPORT=true

# ==============================================================================
# CI/CD
# ==============================================================================

# GitHub Actions secrets
GITHUB_TOKEN=
DEPLOYMENT_ENVIRONMENT=staging

# ==============================================================================
# SECURITY BEST PRACTICES
# ==============================================================================
# 
# DEPLOYMENT KEY vs MULTISIG:
# ✅ DO:
#    - Use a dedicated HOT wallet for PRIVATE_KEY (deployment only)
#    - Fund it with minimal gas (~0.5-1 CHZ for deployment)
#    - Deploy contracts with this key
#    - Immediately transfer ownership to MULTISIG_ADDRESS
#    - Delete/rotate the deployment key after successful deployment
# 
# ❌ DON'T:
#    - Never try to deploy directly from a multisig (won't work)
#    - Never use your main wallet's private key
#    - Never leave the deployer as owner on mainnet
#    - Never commit .env file to git
# 
# RECOMMENDED FLOW:
#    1. Generate fresh deployment keypair
#    2. Fund with 1 CHZ for gas
#    3. Run deployment script (sets multisig as initial owner)
#    4. Verify contracts on explorer
#    5. Confirm ownership is MULTISIG_ADDRESS
#    6. Rotate/delete deployment key
# 
# TESTNET vs MAINNET:
#    - Testnet: Deployer can remain owner (TRANSFER_OWNERSHIP=false)
#    - Mainnet: MUST transfer to multisig (TRANSFER_OWNERSHIP=true)
# 
# ==============================================================================
# NOTES
# ==============================================================================
# 1. For testnet deployment, use MOCK addresses for PRICE_FEED and TREASURY
# 2. For mainnet, use real Chainlink feed and multisig treasury
# 3. Always test deployments on testnet first
# 4. Keep your PRIVATE_KEY secure and never commit it
# 5. Use environment-specific .env files (.env.mainnet, .env.testnet)
# 6. Deployment key ≠ Multisig owner (see SECURITY BEST PRACTICES above)
